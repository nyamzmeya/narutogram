(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{107:function(e,t,n){"use strict";n.r(t),n.d(t,"mesAddActionCreator",(function(){return c}));var r=n(31),a=n(3),s={people:[{name:"Anya",id:1,mes:"I love anime!"},{name:"Anya",id:2,mes:"I love anime!"},{name:"Anya",id:3,mes:"I love anime!"}]},c=function(e){return{type:"network/dialogs/ADD-MES",mes:e}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/dialogs/ADD-MES":return Object(a.a)(Object(a.a)({},e),{},{people:[].concat(Object(r.a)(e.people),[{mes:t.mes,name:"Vasya",id:4}])});default:return e}}},108:function(e,t,n){"use strict";n.r(t),n.d(t,"follow",(function(){return l})),n.d(t,"unfollow",(function(){return d})),n.d(t,"setUsers",(function(){return f})),n.d(t,"setCurrentPage",(function(){return j})),n.d(t,"setTotalUsersCount",(function(){return b})),n.d(t,"setIsFetching",(function(){return p})),n.d(t,"setFetchingUsers",(function(){return h})),n.d(t,"getUsers",(function(){return O})),n.d(t,"followUser",(function(){return g})),n.d(t,"unfollowUser",(function(){return v}));var r=n(6),a=n.n(r),s=n(11),c=n(31),i=n(3),u=n(8),o={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingUsers:[]},l=function(e){return{type:"network/users/FOLLOW",userId:e}},d=function(e){return{type:"network/users/UNFOLLOW",userId:e}},f=function(e){return{type:"network/users/SET-USERS",users:e}},j=function(e){return{type:"network/users/SET-CURRENT-PAGE",currentPage:e}},b=function(e){return{type:"network/users/SET-TOTAL-USERS-COUNT",totalUsersCount:e}},p=function(e){return{type:"network/users/TOOGLE-IS-FETCHING",isFetshing:e}},h=function(e,t){return{type:"network/users/SET-FETCHING-USERS",condition:e,followingUsers:t}},O=function(e,t){return function(){var n=Object(s.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(p(!0)),r(j(e)),n.next=4,u.c.getUsers(e,t);case 4:s=n.sent,r(f(s.items)),r(b(s.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},m=function(){var e=Object(s.a)(a.a.mark((function e(t,n,r,s){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h(!0,n)),e.next=3,r(n);case 3:0===e.sent&&t(s(n)),t(h(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),g=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(n,e,u.c.followUser.bind(u.c),l);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(n,e,u.c.unfollowUser.bind(u.c),d);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/users/FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.userId===t.userId?Object(i.a)(Object(i.a)({},e),{},{followcheck:!0}):e}))});case"network/users/UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.userId===t.userId?Object(i.a)(Object(i.a)({},e),{},{followcheck:!1}):e}))});case"network/users/SET-USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"network/users/SET-CURRENT-PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case"network/users/SET-TOTAL-USERS-COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"network/users/TOOGLE-IS-FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetshing:t.isFetshing});case"network/users/SET-FETCHING-USERS":return Object(i.a)(Object(i.a)({},e),{},{followingUsers:t.condition?[].concat(Object(c.a)(e.followingUsers),[t.followingUsers]):e.followingUsers.filter((function(e){return e!==t.followingUsers}))});default:return e}}},109:function(e,t,n){"use strict";n.r(t),n.d(t,"setUserProfile",(function(){return o})),n.d(t,"setFetching",(function(){return l})),n.d(t,"getUser",(function(){return d}));var r=n(6),a=n.n(r),s=n(11),c=n(3),i=n(8),u={user:null,isFetching:!0,userId:0},o=function(e){return{type:"network/user/SET-CURRENT-USER-INFO",user:e}},l=function(e){return{type:"network/user/TOOGLE-IS-FETCHING",isFetshing:e}},d=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getUser(e);case 2:r=t.sent,n(o(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/user/SET-CURRENT-USER-INFO":return Object(c.a)(Object(c.a)({},e),{},{user:t.user});case"network/user/TOOGLE-IS-FETCHING":return Object(c.a)(Object(c.a)({},e),{},{isFetshing:t.isFetshing});default:return e}}},145:function(e,t,n){},23:function(e,t,n){"use strict";var r=n(1),a=n(62),s=n.n(a);t.a=function(e){return Object(r.jsxs)("ul",{className:s.a.load,children:[Object(r.jsx)("li",{children:Object(r.jsx)("img",{src:"https://i.imgur.com/xGfxPSY.gif"})}),Object(r.jsx)("li",{children:Object(r.jsx)("img",{src:"https://thumbs.gfycat.com/VagueNauticalGander-size_restricted.gif"})})]})}},231:function(e,t,n){"use strict";n.r(t);var r=n(1),a=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,302)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},s=n(0),c=n.n(s),i=n(26),u=n(27),o=n(29),l=n(28),d=(n(145),n(84)),f=n(30),j=n(83),b=n(33),p=b.createStore,h=b.combineReducers,O=b.applyMiddleware,m=b.compose,g=n(107).default,v=n(94).default,x=n(108).default,w=n(109).default,S=n(56).default,k=p(h({profilePage:v,dialogsPage:g,usersPage:x,userPage:w,auth:f.c,app:S,form:j.a}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m)(O(d.a)));window.store=k;var _=k,y=n(18),N=n(9),E=n.n(N),T=n(15),C=n(38),U=n.n(C),I=function(e){return Object(r.jsxs)("div",{className:U.a.gridItem,children:[Object(r.jsx)("img",{src:e.image}),Object(r.jsx)("p",{children:e.name})]})},A=function(e){var t=e.friends.map((function(e){return Object(r.jsx)(I,{image:e.image,name:e.name})}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:U.a.friends,children:"Friends"}),Object(r.jsx)("div",{className:U.a.gridContainer,children:t})]})},F=n(63),P=Object(F.a)((function(e){return Object(r.jsxs)("div",{className:E.a.menu,children:[Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(T.b,{to:"/main",activeClassName:E.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(T.b,{to:"/dialogs",activeClassName:E.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(T.b,{to:"/news",activeClassName:E.a.active,children:"News"})}),Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(T.b,{to:"/music",activeClassName:E.a.active,children:"Music"})}),Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(T.b,{to:"/settings",activeClassName:E.a.active,children:"Settings"})}),Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(T.b,{to:"/search",activeClassName:E.a.active,children:"Find users"})}),Object(r.jsx)("div",{className:E.a.item,children:Object(r.jsx)(A,{friends:e.friends})})]})})),L=Object(y.b)((function(e){return{friends:e.profilePage.friendsBar.friends}}))(P),R=n(87),D=n.n(R),z=function(){return Object(r.jsx)("div",{className:D.a.footer})},G=n(7),M=n(88),H=n.n(M),B=function(){return Object(r.jsx)("div",{className:H.a.news,children:"News"})},K=n(89),W=n.n(K),J=function(){return Object(r.jsx)("div",{className:W.a.settings,children:"Settings"})},V=n(90),X=n.n(V),Y=function(){return Object(r.jsx)("div",{className:X.a.music,children:"Music"})},Z=n(3),q=n(47),Q=n.n(q),$=function(e){return Object(r.jsx)("header",{className:Q.a.header,children:Object(r.jsxs)("div",{className:Q.a.welcome,children:[Object(r.jsx)("div",{children:"Welcome to Narutogram"}),e.isAuth?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{children:[e.login,Object(r.jsx)("button",{className:Q.a.button,onClick:e.Logout,children:"Log out"})]})}):Object(r.jsx)(T.b,{to:"/login"})]})})},ee=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)($,Object(Z.a)({},this.props))}}]),n}(c.a.Component),te=Object(y.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{Logout:f.b})(ee),ne=n(56),re=n(33),ae=n(23),se=c.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,303))})),ce=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,304))})),ie=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,306))})),ue=c.a.lazy((function(){return n.e(7).then(n.bind(null,305))})),oe=c.a.lazy((function(){return n.e(6).then(n.bind(null,307))})),le=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialised?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(te,{}),Object(r.jsx)(L,{}),Object(r.jsxs)("div",{className:"app-content",children:[Object(r.jsx)(G.b,{path:"/auth",render:function(){return Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(ae.a,{}),children:Object(r.jsx)(se,{})})}}),Object(r.jsx)(G.b,{path:"/dialogs",render:function(){return Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(ae.a,{}),children:Object(r.jsx)(ie,{})})}}),Object(r.jsx)(G.b,{path:"/main",render:function(){return Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(ae.a,{}),children:Object(r.jsx)(ce,{})})}}),Object(r.jsx)(G.b,{path:"/search",render:function(){return Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(ae.a,{}),children:Object(r.jsx)(ue,{})})}}),Object(r.jsx)(G.b,{path:"/user/:userId",render:function(){return Object(r.jsx)(s.Suspense,{fallback:Object(r.jsx)(ae.a,{}),children:Object(r.jsx)(oe,{})})}}),Object(r.jsx)(G.b,{path:"/news",component:B}),Object(r.jsx)(G.b,{path:"/music",component:Y}),Object(r.jsx)(G.b,{path:"/settings",component:J})]}),Object(r.jsx)(z,{})]}):Object(r.jsx)(ae.a,{})}}]),n}(c.a.Component),de=Object(re.compose)(G.f,Object(y.b)((function(e){return{initialised:e.app.initialised}}),{initializeApp:ne.initializeApp}))(le),fe=function(e){return Object(r.jsx)(T.a,{basename:"/nyamzmeya/narutogram.git",children:Object(r.jsx)(y.a,{store:_,children:Object(r.jsx)(de,{})})})},je=n(46);n.n(je).a.render(Object(r.jsx)(fe,{}),document.getElementById("root")),a(),window.store=_},30:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return j}));var r=n(6),a=n.n(r),s=n(11),c=n(3),i=n(48),u=n(8),o={userId:null,email:null,login:null,isAuth:!1},l=function(e,t,n,r){return{type:"network/auth/SET-USER-DATA",data:{userId:e,email:t,login:n},isAuth:r}},d=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,c=r.email,i=r.login,t(l(s,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var c,o,l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.login(e,t,n);case 2:0===(c=r.sent).data.resultCode?s(d()):(o=c.data.messages.length>0?c.data.messages[0]:"Some error",l=Object(i.a)("login",{_error:o}),s(l));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},j=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.logout();case 2:0===e.sent.data.resultCode&&t(l(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/auth/SET-USER-DATA":return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.data),{},{isAuth:t.isAuth});default:return e}}},38:function(e,t,n){e.exports={gridContainer:"Friends_gridContainer__1vblf",friends:"Friends_friends__2uFdk",gridItem:"Friends_gridItem__3y5Nz"}},47:function(e,t,n){e.exports={header:"Header_header__30ylL",welcome:"Header_welcome__2BvCl",button:"Header_button__2dwzy"}},56:function(e,t,n){"use strict";n.r(t),n.d(t,"initialisedSuccess",(function(){return c})),n.d(t,"initializeApp",(function(){return i}));var r=n(3),a=n(30),s={initialised:!1},c=function(){return{type:"SET-INITIALISED"}},i=function(){return function(e){e(Object(a.d)()).then((function(){e(c())}))}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALISED":return Object(r.a)(Object(r.a)({},e),{},{initialised:!0});default:return e}}},62:function(e,t,n){e.exports={load:"common_load__2kVqD",auth:"common_auth__1N394",formsControl:"common_formsControl__3be14",error:"common_error__2RZtp",auth_error:"common_auth_error__1SJOy"}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(3),a=n(26),s=n(27),c=n(29),i=n(28),u=n(1),o=n(7),l=n(0),d=n.n(l),f=n(18),j=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var t=function(t){Object(c.a)(l,t);var n=Object(i.a)(l);function l(){return Object(a.a)(this,l),n.apply(this,arguments)}return Object(s.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(r.a)({},this.props)):Object(u.jsx)(o.a,{to:"/auth"})}}]),l}(d.a.Component);return Object(f.b)(j)(t)}},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(69),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"97daf9df-1e5e-4fb8-9712-b4111f0e5f60"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getUser:function(e){return a.get("profile/".concat(e),{withCredentials:!0}).then((function(e){return e.data}))},followUser:function(e){return a.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))},unfollowUser:function(e){return a.delete("unfollow/".concat(e)).then((function(e){return e.data.resultCode}))}},c={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}},i={getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status/",{status:e})}}},87:function(e,t,n){e.exports={footer:"Footer_footer__2CK_4"}},88:function(e,t,n){e.exports={news:"News_news__3FzsD"}},89:function(e,t,n){e.exports={settings:"Settings_settings__3dhZ8"}},9:function(e,t,n){e.exports={menu:"Menu_menu__3AgC2",item:"Menu_item__JIPdd"}},90:function(e,t,n){e.exports={music:"Music_music__1XOEl"}},94:function(e,t,n){"use strict";n.r(t),n.d(t,"postAddActionCreator",(function(){return l})),n.d(t,"setProfileStatus",(function(){return d})),n.d(t,"getStatus",(function(){return f})),n.d(t,"updateStatus",(function(){return j}));var r=n(6),a=n.n(r),s=n(11),c=n(31),i=n(3),u=n(8),o={posts:[{post:"I love anime!",likes:5},{post:"I love rock!",likes:7},{post:"I love pop!",likes:2}],description:[{avatar:"https://i.pinimg.com/736x/da/27/c8/da27c8ce5999dac6dfe3308091a3fa76.jpg",name:"Naruto",age:17,info:'Naruto Uzumaki is a shinobi of Konohagakure"s Uzumaki clan. He became the jinch\u016briki of the Nine-Tails on the day of his birth \u2014 a fate that caused him to be shunned by most of Konoha throughout his childhood.'}],status:"",friendsBar:{friends:[{image:"https://i1.sndcdn.com/avatars-000272333422-wk7031-t500x500.jpg",name:"Kakashi"},{image:"https://a.wattpad.com/useravatar/Haruno_Sakura001.256.167932.jpg",name:"Sakura"},{image:"https://i.pinimg.com/564x/b7/8e/b3/b78eb361686a4d367dc919cca82131fb.jpg",name:"Sasuke"}]}},l=function(e){return{type:"network/profile/ADD-POST",post:e}},d=function(e){return{type:"network/profile/SET-STATUS",status:e}},f=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(d(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(d(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"network/profile/ADD-POST":var n={post:t.post,likes:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(c.a)(e.posts),[n])});case"network/profile/SET-STATUS":return Object(i.a)(Object(i.a)({},e),{},{status:t.status});default:return e}}}},[[231,2,3]]]);
//# sourceMappingURL=main.221af20d.chunk.js.map