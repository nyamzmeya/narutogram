{"version":3,"sources":["common/formscontrols.jsx","common/validation.jsx","common/avatar.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Main/Profile/Main.module.css","components/Main/Profile/Description.module.css","components/Main/Posts/Posts/Posts.module.css","components/Main/Posts/MyPost/MyPost.module.css","components/Main/Profile/Description.jsx","components/Main/Posts/MyPost/MyPost.jsx","components/Main/Posts/Posts/Posts.jsx","components/Main/Posts/Posts/PostsContainer.jsx","components/Main/Profile/StatusWithHooks.jsx","components/Main/Profile/Main.jsx"],"names":["FormArea","input","meta","touched","error","children","hasError","className","s","formsControl","textArea","props","restProps","child","Input","createField","place","name","component","validate","text","placeholder","requiredField","value","maxLenCreator","maxlen","length","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","module","exports","Avatar","avatar","src","alt","height","info","age","Description","descsEl","description","map","p","desc","MyPost","mypost","post","likes","maxLen10","PostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","Posts","postsEl","profilePage","posts","values","postAdd","PostsContainer","connect","state","dispatch","postAddActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","MainComponent","userId","this","authorisedUserId","history","getStatus","profile","saveAvatar","React","Component","Main","compose","auth","isAuth","withAuthRedirect"],"mappings":"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","file":"static/js/4.ad2c4ccd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from \"./common.module.css\";\r\nimport { Field} from 'redux-form'\r\n\r\nexport const FormArea = ({ input, meta : {touched, error}, children}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={s.formsControl + \" \" + (hasError ? s.error : \" \")}>\r\n      {children}\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const textArea = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormArea {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormArea>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormArea {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormArea>\r\n  );\r\n};\r\n\r\nexport const createField = (place, name, component, validate, props={}, text='') => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={place}\r\n        name={name}\r\n        component={component}\r\n        validate={validate}\r\n        {...props}\r\n      />{text}\r\n    </div>\r\n  );\r\n};\r\n","export const requiredField = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLenCreator = (maxlen) => (value) => {\r\n    if (value && value.length > maxlen) return `Max length is ${maxlen} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/avatar.da337d6a.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Main_profile__1wNnu\",\"status\":\"Main_status__3YHvy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"desc\":\"Description_desc__2mfEL\",\"info\":\"Description_info__2bI0t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__m06sJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myposts\":\"MyPost_myposts__2AwNB\"};","import s from './Description.module.css';\r\nimport React from 'react';\r\nimport avatar from '../../../common/avatar.png'\r\n\r\nconst Avatar = (props) => {\r\n    return (\r\n        <>\r\n            <div className= {s.avatar}>\r\n                <img src= {props.avatar || avatar} alt=\"description\" height='300p'/>\r\n            </div>\r\n            <div className= {s.info}>\r\n            <div>Name: {props.name}</div>\r\n            <p></p>\r\n            <div>Age: {props.age}</div>\r\n            <p></p>\r\n            <div>Information: {props.info}</div>\r\n            </div>\r\n            </>\r\n    );\r\n}\r\n\r\nconst Description = (props) => {\r\n\r\n    let descsEl = props.description.map(p => <Avatar avatar= {p.avatar} name= {p.name} \r\n    info= {p.info} age= {p.age} />)\r\n\r\n\r\n\r\n    return (\r\n        <div className= {s.desc}>\r\n            {descsEl}\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Description;","import s from './MyPost.module.css';\r\nimport React from 'react';\r\n\r\nconst MyPost = (props) => {\r\n    return (\r\n        <div className= {s.mypost}>\r\n            <div>{props.post}</div>\r\n            <div>likes {props.likes}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyPost;","import s from './Posts.module.css';\r\nimport React from 'react';\r\nimport MyPost from '../MyPost/MyPost';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { requiredField, maxLenCreator } from '../../../../common/validation';\r\nimport { textArea } from '../../../../common/formscontrols';\r\n\r\nconst maxLen10 = maxLenCreator(10);\r\n\r\nconst Posts = (props) => {\r\n\r\n\r\n    let state = props.profilePage;\r\n\r\n    \r\n\r\n    let postAdd = (values) => {\r\n        props.postAdd(values.post);\r\n\r\n    }\r\n    \r\n    let postsEl = state.posts.map(p => <MyPost post= {p.post} likes= {p.likes}/>)\r\n\r\n\r\n    return (\r\n        <div className= {s.posts}>\r\n            <div>Posts</div>\r\n            <p></p>\r\n            {postsEl}\r\n            <p></p>\r\n            <PostReduxForm onSubmit= {postAdd}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst PostForm = (props) => {\r\n    return (\r\n        <form onSubmit= {props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Post'} name={'post'} component={textArea} validate={[requiredField, maxLen10]}  />\r\n            </div>\r\n            <div>\r\n                <button >Publish</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm({\r\n    form: 'post'\r\n  })(PostForm)\r\n\r\n\r\n\r\n\r\nexport default Posts;","import { connect } from 'react-redux';\r\nimport { postAddActionCreator } from '../../../../redux/profile-reducer';\r\nimport Posts from './Posts';\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        postAdd: (post) => {\r\n            dispatch(postAddActionCreator(post))\r\n    }\r\n}};\r\n\r\nlet PostsContainer = connect(mapStateToProps, mapDispatchToProps) (Posts);\r\n\r\nexport default PostsContainer;","import React, { useEffect, useState } from \"react\";\r\nimport s from \"./Main.module.css\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect( () => {\r\n      setStatus(props.status);\r\n  }, [props.status] );\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  const activteEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivteEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  return (\r\n    <div className={s.status}>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activteEditMode}>{props.status || '------'}</span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deactivteEditMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import s from './Main.module.css';\r\nimport React from 'react';\r\nimport Description from './Description';\r\nimport PostsContainer from '../Posts/Posts/PostsContainer';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getStatus, updateStatus} from '../../../redux/profile-reducer';\r\nimport ProfileStatusWithHooks from './StatusWithHooks';\r\n\r\n\r\nclass MainComponent extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.authorisedUserId;\r\n        if (!userId) {\r\n            this.props.history.push('/auth');\r\n        }\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n\r\n    render() {\r\n        return <div className= {s.profile}>\r\n            <Description description= {this.props.description} saveAvatar= {this.props.saveAvatar}/>\r\n            <ProfileStatusWithHooks status= {this.props.status} updateStatus= {this.props.updateStatus}/>\r\n            <PostsContainer />\r\n        </div>\r\n    };\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n      description: state.profilePage.description,\r\n      status: state.profilePage.status,\r\n      authorisedUserId: state.auth.userId,\r\n      isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\n\r\nlet Main = compose(connect(mapStateToProps, {getStatus, updateStatus}), withAuthRedirect)(MainComponent);\r\n\r\nexport default Main;"],"sourceRoot":""}