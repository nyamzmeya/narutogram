{"version":3,"sources":["common/formscontrols.jsx","common/validation.jsx","components/Dialogs/Dialogs.module.css","components/Dialogs/Message.jsx","components/Dialogs/Name.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["FormArea","input","meta","touched","error","children","hasError","className","s","formsControl","textArea","props","restProps","child","Input","createField","place","name","component","validate","text","placeholder","requiredField","value","maxLenCreator","maxlen","length","module","exports","Message","message","mes","Name","path","id","to","maxLen10","MesReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","Dialogs","state","dialogsPage","peopleEl","people","map","p","mesEl","dialogs","names","messages","values","mesAdd","DialogsContainer","compose","connect","dispatch","mesAddActionCreator","withAuthRedirect"],"mappings":"0QAIaA,EAAW,SAAC,GAAgD,EAA9CC,MAA+C,IAAD,IAAvCC,KAAQC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAQC,EAAc,EAAdA,SACnDC,EAAWH,GAAWC,EAC5B,OACE,sBAAKG,UAAWC,IAAEC,aAAe,KAAOH,EAAWE,IAAEJ,MAAQ,KAA7D,UACGC,EACAC,GAAY,+BAAOF,QAKbM,EAAW,SAACC,GAAW,IAC1BV,EAAqCU,EAArCV,MAAuBW,GAAcD,EAA9BT,KAA8BS,EAAxBE,MADY,YACYF,EADZ,2BAEjC,OACE,cAACX,EAAD,2BAAcW,GAAd,aACE,oDAAcV,GAAWW,QAKlBE,EAAQ,SAACH,GAAW,IACvBV,EAAqCU,EAArCV,MAAuBW,GAAcD,EAA9BT,KAA8BS,EAAxBE,MADS,YACeF,EADf,2BAE9B,OACE,cAACX,EAAD,2BAAcW,GAAd,aACE,iDAAWV,GAAWW,QAKfG,EAAc,SAACC,EAAOC,EAAMC,EAAWC,GAAiC,IAAvBR,EAAsB,uDAAhB,GAAIS,EAAY,uDAAP,GAC3E,OACE,gCACE,cAAC,IAAD,aACEC,YAAaL,EACbC,KAAMA,EACNC,UAAWA,EACXC,SAAUA,GACNR,IACHS,O,iCCzCT,oEAAO,IAAME,EAAgB,SAAAC,GACzB,IAAIA,EACJ,MAAO,qBAGEC,EAAgB,SAACC,GAAD,OAAY,SAACF,GACtC,GAAIA,GAASA,EAAMG,OAASD,EAAQ,MAAM,iBAAN,OAAwBA,EAAxB,e,oBCLxCE,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,SAAW,0BAA0B,KAAO,sBAAsB,QAAU,2B,sGCWjJC,EATC,SAAClB,GACb,OACI,qBAAKJ,UAAaC,IAAEsB,QAApB,SACanB,EAAMoB,O,QCOZC,EAVF,SAACrB,GACV,IAAIsB,EAAO,YAActB,EAAMuB,GAC/B,OACA,qBAAK3B,UAAYC,IAAES,KAAnB,SACI,cAAC,IAAD,CAASkB,GAAKF,EAAd,SAAqBtB,EAAMM,U,2CCI7BmB,EAAWZ,YAAc,IAgDzBa,EAAeC,YAAU,CAC3BC,KAAM,WADWD,EAbL,SAAC3B,GACb,OACI,uBAAM6B,SAAW7B,EAAM8B,aAAvB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOrB,YAAY,UAAUJ,KAAK,UAAUC,UAAWR,IAAWS,SAAU,CAACG,IAAec,OAEhG,8BACI,kDAcDO,EAlDE,SAAChC,GAEd,IAAIiC,EAAQjC,EAAMkC,YAEZC,EAAWF,EAAMG,OAAOC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAMhC,KAAOgC,EAAEhC,KAAMiB,GAAMe,EAAEf,QAEhEgB,EAAQN,EAAMG,OAAOC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAASlB,IAAMkB,EAAElB,SASnD,OACI,sBAAKxB,UAAYC,IAAE2C,QAAnB,UACI,qBAAK5C,UAAYC,IAAE4C,MAAnB,SACKN,IAEL,qBAAKvC,UAAYC,IAAE6C,SAAnB,SACKH,IAEL,cAACb,EAAD,CAAcG,SAdT,SAACc,GACV3C,EAAM4C,OAAOD,EAAOxB,gBCLxB0B,EAAmBC,kBACnBC,aAhBkB,SAACd,GACnB,MAAO,CACHC,YAAaD,EAAMC,gBAIF,SAACc,GACtB,MAAO,CACHJ,OAAQ,SAACxB,GACL4B,EAASC,8BAAoB7B,SAQrC8B,IAFmBJ,CAEDd,GAGPa","file":"static/js/5.bf4f649f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport s from \"./common.module.css\";\r\nimport { Field} from 'redux-form'\r\n\r\nexport const FormArea = ({ input, meta : {touched, error}, children}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={s.formsControl + \" \" + (hasError ? s.error : \" \")}>\r\n      {children}\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const textArea = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormArea {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormArea>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormArea {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormArea>\r\n  );\r\n};\r\n\r\nexport const createField = (place, name, component, validate, props={}, text='') => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={place}\r\n        name={name}\r\n        component={component}\r\n        validate={validate}\r\n        {...props}\r\n      />{text}\r\n    </div>\r\n  );\r\n};\r\n","export const requiredField = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLenCreator = (maxlen) => (value) => {\r\n    if (value && value.length > maxlen) return `Max length is ${maxlen} symbols`;\r\n    return undefined;\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1jMQR\",\"names\":\"Dialogs_names__24Hv_\",\"messages\":\"Dialogs_messages__aFAZ2\",\"name\":\"Dialogs_name__1Qm95\",\"message\":\"Dialogs_message__1YIjU\"};","import s from './Dialogs.module.css'\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className = {s.message}>\r\n                    {props.mes}\r\n                </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Message","import { NavLink } from 'react-router-dom';\r\nimport s from './Dialogs.module.css'\r\n\r\nconst Name = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n    <div className= {s.name}>\r\n        <NavLink to= {path}>{props.name}</NavLink>\r\n    </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Name","import s from './Dialogs.module.css'\r\nimport Message from './Message';\r\nimport Name from './Name';\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { requiredField, maxLenCreator } from '../../common/validation';\r\n\r\nimport {textArea} from '../../common/formscontrols'\r\n\r\n\r\n\r\nconst maxLen10 = maxLenCreator(10);\r\n\r\n\r\n\r\n\r\n\r\nconst Dialogs  = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    const peopleEl = state.people.map(p => <Name name= {p.name} id = {p.id}/>);\r\n\r\n    let mesEl = state.people.map(p => <Message mes= {p.mes}/>)\r\n\r\n\r\n    let mesAdd = (values) => {\r\n        props.mesAdd(values.message)\r\n    }\r\n    \r\n\r\n    \r\n    return (\r\n        <div className= {s.dialogs}>\r\n            <div className= {s.names}>\r\n                {peopleEl}\r\n                </div>\r\n            <div className= {s.messages}>\r\n                {mesEl}\r\n            </div>\r\n            <MesReduxForm onSubmit= {mesAdd}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nconst MesForm = (props) => {\r\n    return (\r\n        <form onSubmit= {props.handleSubmit} >\r\n            <div>\r\n                <Field placeholder='Message' name='message' component={textArea}  validate={[requiredField, maxLen10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MesReduxForm = reduxForm({\r\n    form: 'dialogs'\r\n  })(MesForm)\r\n\r\n\r\n\r\n\r\n\r\nexport default Dialogs;\r\n\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { mesAddActionCreator} from '../../redux/dialogs-reducer';\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport Dialogs from './Dialogs';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        mesAdd: (mes) => {\r\n            dispatch(mesAddActionCreator(mes))\r\n        }\r\n    }\r\n};\r\n\r\n\r\nlet DialogsContainer = compose(\r\n    connect(mapStateToProps, mapDispatchToProps), \r\n    withAuthRedirect)(Dialogs)\r\n\r\n\r\nexport default DialogsContainer;\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}